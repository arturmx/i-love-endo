$(document).ready(function(){function n(n){if(n.hasClass("in-progress"))return!1;n.addClass("in-progress");var e=$('meta[name="ajax-url"]').attr("content"),t={action:"startPaymentAjax"};$.extend(t,a(n)),$.ajax({type:"POST",url:e,data:t}).done(function(e){n.find(".form-valid-error").remove(),n.removeClass("in-progress"),e.result?(n.find(".bottom").append(e.result),"undefined"!==n.find(".bottom form")&&n.find(".bottom form").submit()):n.find(".bottom").append(e.error?'<div class="form-valid-error"><h4>'+e.error+"</b4></div>":'<div class="form-valid-error"><h4>Błąd przy generacji platnośći. Skontaktuj się z nami.</b4></div>')})}function e(){var n=$('meta[name="ajax-url"]').attr("content"),e=$("#form-packet").val(),a=$('input[name="sale-code"]').val();$.ajax({type:"POST",url:n,data:{action:"checkSaleAjax",pakiet:e,sale:a}}).done(function(n){$(".sale-info .sale-col h3").addClass("show"),n.result&&"undefined"!==n.result?$(".sale-info .sale-result").html(n.result+" zł"):n.error&&$(".sale-info .sale-result").html(n.error)})}function a(n){var e=n.find('select[name="packet"]'),a=n.find('select[name="trening"]'),t=n.find('input[name="firstname"]'),i=n.find('input[name="lastname"]'),d=n.find('input[name="email"]'),r=n.find('input[name="phone"]'),o=n.find('input[name="company"]'),m=n.find('input[name="nip"]'),f=n.find('input[name="name"]'),u=n.find('input[name="surname"]'),l=n.find('input[name="street"]'),p=n.find('input[name="house"]'),s=n.find('input[name="apartment"]'),c=n.find('input[name="city"]'),v=n.find('input[name="postcode"]'),h=n.find('input[name="sale-code"]'),$=n.find('textarea[name="message"]'),y=n.find('input[name="accommodation"]'),k=n.find('input[name="accommodation-firstname"]'),g=n.find('input[name="accommodation-lastname"]');return{pakiet:"undefined"!==e?e.val():!1,warsztat:"undefined"!==a?a.val():!1,firstname:"undefined"!==t?t.val():!1,lastname:"undefined"!==i?i.val():!1,email:"undefined"!==d?d.val():!1,phone:"undefined"!==r?r.val():!1,company:"undefined"!==o?o.val():!1,nip:"undefined"!==m?m.val():!1,name:"undefined"!==f?f.val():!1,surname:"undefined"!==u?u.val():!1,street:"undefined"!==l?l.val():!1,house:"undefined"!==p?p.val():!1,apartment:"undefined"!==s?s.val():!1,city:"undefined"!==c?c.val():!1,postcode:"undefined"!==v?v.val():!1,sale:"undefined"!==h?h.val():!1,message:"undefined"!==$?$.val():!1,accommodation:"undefined"!==y?y.val():!1,"accommodation-firstname":"undefined"!==k?k.val():!1,"accommodation-lastname":"undefined"!==g?g.val():!1,"invoice-type":"undefined"!==n.find('input[name="invoice-type"]')?n.find('input[name="invoice-type"]:checked').val():!1,"payment-type":"undefined"!==n.find('input[name="payment-type"]')?n.find('input[name="payment-type"]:checked').val():!1,regulations:"undefined"!==n.find('input[name="regulations"]')?n.find('input[name="regulations"]:checked').val():!1,rodo:"undefined"!==n.find('input[name="rodo"]')?n.find('input[name="rodo"]:checked').val():!1,marketing:"undefined"!==n.find('input[name="marketing"]')?n.find('input[name="marketing"]:checked').val():!1,"form-date":"undefined"!==n.find('input[name="form-date"]')?n.find('input[name="form-date"]:checked').val():!1}}$(".invoice-info input[type=radio]").change(function(){var n=$(this).parent().attr("data-name"),e=$(this).parent().attr("data-name-f"),a=$(this).parent().attr("data-nip"),t=$(this).parent().attr("data-nip-f"),i=$(".invoice-info .invoice-name"),d=$(".invoice-info .invoice-nip");i.attr("placeholder",n).attr("name",e),d.attr("placeholder",a).attr("name",t)}),$("#form-packet").change(function(){var n=$('meta[name="ajax-url"]').attr("content"),e=$(this).val();$.ajax({type:"POST",url:n,data:{action:"formDataAjax",pakiet:e}}).done(function(n){n.result&&"undefined"!==n.result?($(".form-wrapper h2").html(n.result.title),$(".trenings-body").html(n.result.trenings?n.result.trenings.select_html:"")):n.error&&alert(n.error)})}),$("form input[type=submit]").on("click",function(e){e.preventDefault();var a=$(this).parents("form"),t=formValidationAction(a);t&&n(a)}),$(".sale-info .button-default").on("click",function(){e()})});